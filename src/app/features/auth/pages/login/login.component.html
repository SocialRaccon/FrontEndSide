<div class="login-container">
  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
    <!-- Title -->
    <h2>Login</h2>

    <!-- Error Alert -->
    <div *ngIf="error" class="alert alert-danger">
      {{ error }}
    </div>

    <!-- Email Input -->
    <div class="form-group">
      <input
        type="email"
        formControlName="email"
        class="form-control"
        [ngClass]="{ 'is-invalid': email?.touched && email?.invalid }"
        placeholder="Correo Electrónico"
        [attr.disabled]="loading ? '' : null"/>

      <div *ngIf="email?.touched && email?.invalid" class="invalid-feedback">
        <div *ngIf="email?.errors?.['required']">El correo electrónico es obligatorio.</div>
        <div *ngIf="email?.errors?.['email']">Ingrese un correo electrónico válido.</div>
      </div>
    </div>

    <!-- Password Input -->
    <div class="form-group">
      <input
        type="password"
        formControlName="password"
        class="form-control"
        [ngClass]="{ 'is-invalid': password?.touched && password?.invalid }"
        placeholder="Contraseña"
        [attr.disabled]="loading ? '' : null"/>

      <div *ngIf="password?.touched && password?.invalid" class="invalid-feedback">
        <div *ngIf="password?.errors?.['required']">La contraseña es obligatoria.</div>
      </div>
    </div>

    <!-- Submit Button -->
    <div class="form-group">
      <button
        type="submit"
        [disabled]="loginForm.invalid || loading"
        class="btn-submit">
        <span *ngIf="loading" class="spinner-border spinner-border-sm me-1" role="status" aria-hidden="true"></span>
        {{ loading ? 'Iniciando sesión...' : 'Entrar' }}
      </button>
    </div>
  </form>
  <!-- Mapa Component -->
  <div class="mapa-container">
    <app-mapa></app-mapa>
  </div>
</div>
